module.exports = {
  // Function to convert a number to its ordinal form (1st, 2nd, 3rd, etc.)
  ordinalize: function(number) {
    const j = number % 10;
    const k = number % 100;
    
    if (j === 1 && k !== 11) {
      return number + "st";
    }
    if (j === 2 && k !== 12) {
      return number + "nd";
    }
    if (j === 3 && k !== 13) {
      return number + "rd";
    }
    
    return number + "th";
  },

  /**
   * Chuáº©n hÃ³a text vá» dáº¡ng khÃ´ng cÃ³ font Ä‘áº·c biá»‡t
   * @param {string} text - Text cáº§n chuáº©n hÃ³a
   * @returns {string} - Text Ä‘Ã£ Ä‘Æ°á»£c chuáº©n hÃ³a
   */
  normalizeText: function(text) {
    if (!text) return text;

    // Loáº¡i bá» cÃ¡c kÃ½ tá»± Ä‘iá»u khiá»ƒn vÃ  format
    text = text.normalize('NFKD');
    
    // Thay tháº¿ cÃ¡c font Ä‘áº·c biá»‡t báº±ng kÃ½ tá»± ASCII tÆ°Æ¡ng á»©ng
    const specialFontMap = {
      'ð’œ': 'A', 'ð’': 'B', 'ð’ž': 'C', 'ð’Ÿ': 'D', 'ð’ ': 'E',
      'ð’¡': 'F', 'ð’¢': 'G', 'ð’£': 'H', 'ð’¤': 'I', 'ð’¥': 'J',
      'ð’¦': 'K', 'ð’§': 'L', 'ð’¨': 'M', 'ð’©': 'N', 'ð’ª': 'O',
      'ð’«': 'P', 'ð’¬': 'Q', 'ð’­': 'R', 'ð’®': 'S', 'ð’¯': 'T',
      'ð’°': 'U', 'ð’±': 'V', 'ð’²': 'W', 'ð’³': 'X', 'ð’´': 'Y',
      'ð’µ': 'Z', 'ð’¶': 'a', 'ð’·': 'b', 'ð’¸': 'c', 'ð’¹': 'd',
      'ð’º': 'e', 'ð’»': 'f', 'ð’¼': 'g', 'ð’½': 'h', 'ð’¾': 'i',
      'ð’¿': 'j', 'ð“€': 'k', 'ð“': 'l', 'ð“‚': 'm', 'ð“ƒ': 'n',
      'ð“„': 'o', 'ð“…': 'p', 'ð“†': 'q', 'ð“‡': 'r', 'ð“ˆ': 's',
      'ð“‰': 't', 'ð“Š': 'u', 'ð“‹': 'v', 'ð“Œ': 'w', 'ð“': 'x',
      'ð“Ž': 'y', 'ð“': 'z',
      // Font bold
      'ð—”': 'A', 'ð—•': 'B', 'ð—–': 'C', 'ð——': 'D', 'ð—˜': 'E',
      'ð—™': 'F', 'ð—š': 'G', 'ð—›': 'H', 'ð—œ': 'I', 'ð—': 'J',
      'ð—ž': 'K', 'ð—Ÿ': 'L', 'ð— ': 'M', 'ð—¡': 'N', 'ð—¢': 'O',
      'ð—£': 'P', 'ð—¤': 'Q', 'ð—¥': 'R', 'ð—¦': 'S', 'ð—§': 'T',
      'ð—¨': 'U', 'ð—©': 'V', 'ð—ª': 'W', 'ð—«': 'X', 'ð—¬': 'Y',
      'ð—­': 'Z', 'ð—®': 'a', 'ð—¯': 'b', 'ð—°': 'c', 'ð—±': 'd',
      'ð—²': 'e', 'ð—³': 'f', 'ð—´': 'g', 'ð—µ': 'h', 'ð—¶': 'i',
      'ð—·': 'j', 'ð—¸': 'k', 'ð—¹': 'l', 'ð—º': 'm', 'ð—»': 'n',
      'ð—¼': 'o', 'ð—½': 'p', 'ð—¾': 'q', 'ð—¿': 'r', 'ð˜€': 's',
      'ð˜': 't', 'ð˜‚': 'u', 'ð˜ƒ': 'v', 'ð˜„': 'w', 'ð˜…': 'x',
      'ð˜†': 'y', 'ð˜‡': 'z',
      // Font italic
      'ð˜ˆ': 'A', 'ð˜‰': 'B', 'ð˜Š': 'C', 'ð˜‹': 'D', 'ð˜Œ': 'E',
      'ð˜': 'F', 'ð˜Ž': 'G', 'ð˜': 'H', 'ð˜': 'I', 'ð˜‘': 'J',
      'ð˜’': 'K', 'ð˜“': 'L', 'ð˜”': 'M', 'ð˜•': 'N', 'ð˜–': 'O',
      'ð˜—': 'P', 'ð˜˜': 'Q', 'ð˜™': 'R', 'ð˜š': 'S', 'ð˜›': 'T',
      'ð˜œ': 'U', 'ð˜': 'V', 'ð˜ž': 'W', 'ð˜Ÿ': 'X', 'ð˜ ': 'Y',
      'ð˜¡': 'Z', 'ð˜¢': 'a', 'ð˜£': 'b', 'ð˜¤': 'c', 'ð˜¥': 'd',
      'ð˜¦': 'e', 'ð˜§': 'f', 'ð˜¨': 'g', 'ð˜©': 'h', 'ð˜ª': 'i',
      'ð˜«': 'j', 'ð˜¬': 'k', 'ð˜­': 'l', 'ð˜®': 'm', 'ð˜¯': 'n',
      'ð˜°': 'o', 'ð˜±': 'p', 'ð˜²': 'q', 'ð˜³': 'r', 'ð˜´': 's',
      'ð˜µ': 't', 'ð˜¶': 'u', 'ð˜·': 'v', 'ð˜¸': 'w', 'ð˜¹': 'x',
      'ð˜º': 'y', 'ð˜»': 'z',
      // Font bold italic
      'ð™€': 'E', 'ð™': 'F', 'ð™‚': 'G', 'ð™ƒ': 'H', 'ð™„': 'I',
      'ð™…': 'J', 'ð™†': 'K', 'ð™‡': 'L', 'ð™ˆ': 'M', 'ð™‰': 'N',
      'ð™Š': 'O', 'ð™‹': 'P', 'ð™Œ': 'Q', 'ð™': 'R', 'ð™Ž': 'S',
      'ð™': 'T', 'ð™': 'U', 'ð™‘': 'V', 'ð™’': 'W', 'ð™“': 'X',
      'ð™”': 'Y', 'ð™•': 'Z', 'ð™–': 'a', 'ð™—': 'b', 'ð™˜': 'c',
      'ð™™': 'd', 'ð™š': 'e', 'ð™›': 'f', 'ð™œ': 'g', 'ð™': 'h',
      'ð™ž': 'i', 'ð™Ÿ': 'j', 'ð™ ': 'k', 'ð™¡': 'l', 'ð™¢': 'm',
      'ð™£': 'n', 'ð™¤': 'o', 'ð™¥': 'p', 'ð™¦': 'q', 'ð™§': 'r',
      'ð™¨': 's', 'ð™©': 't', 'ð™ª': 'u', 'ð™«': 'v', 'ð™¬': 'w',
      'ð™­': 'x', 'ð™®': 'y', 'ð™¯': 'z'
    };

    // Chuyá»ƒn Ä‘á»•i cÃ¡c kÃ½ tá»± Ä‘áº·c biá»‡t
    return text.split('').map(char => specialFontMap[char] || char).join('');
  }
};
